---
// src/pages/team.astro
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

// Official Executive Management Data
const executives = [
    {
        name: "Uwadiale Agenmonmen",
        title: "Chairman",
        bio: "Uwadiale is a seasoned engineer and business leader with a proven track record of transforming companies and driving growth across energy, agriculture, and real estate. He held senior leadership roles in Schlumberger, Weatherford International, and Wellbore Integrity Solutions, managing portfolios exceeding $200 million across seven countries. He is the Co-Founder and CEO of Raedial Holdings Limited, a conglomerate with subsidiaries in agriculture, energy, livestock, real estate, and foods. Having worked in over 20 countries, his key collaborations include Compagnie Fruitière, Agrinexus International, and Africa Digital Media Institute (ADMI). Uwadiale holds an MSc in Oil and Gas Engineering from Robert Gordon University, Aberdeen, and a BSc in Petroleum Engineering from the University of Benin, complemented by executive training from Lagos Business School. He is a member of SPE, IMarEST, NSE, POFON, and NPPAN.",
        img_alt: "Profile image for Uwadiale Agenmonmen, Chairman",
        img_src: "/assets/chairman-photo.jpg?text=UA", // Replace this URL with the actual image
    },
    {
        name: "Azeez Osanyin",
        title: "Managing Director",
        bio: "Azeez brings over 15 years of experience in finance, operations, risk control, and corporate governance. He served as the former Group Chief Financial Officer at Raedial Holdings Limited, where he successfully led financial strategy, project financing, and business intelligence initiatives. His core expertise lies in optimizing operational structures, building resilient financial systems, and guiding companies through significant transformation and growth phases.",
        img_alt: "Profile image for Azeez Osanyin, Managing Director",
        img_src: "/assets/Azeez.jpg?text=AO", // Replace this URL with the actual image
    },
];

// Official Non-Executive Directors (NED) Data
const neds = [
    {
        name: "Michael Orimobi",
        title: "Non-Executive Director",
        bio: "Michael is a renowned capital markets lawyer and philanthropist with over 20 years of experience. He is the Founder and Chairman of TOLG (an international law firm) and Ash Xander (an investment holding company). Recognized as an IFLR1000 Leading Lawyer, he also actively runs the Tokunbo Orimobi Foundation dedicated to mentorship.",
        img_alt: "Profile image for Michael Orimobi, NED",
        img_src: "/assets/Michael.jpg?text=MO", // Replace this URL with the actual image
    },
    {
        name: "Claris Agenmonmen",
        title: "Non-Executive Director",
        bio: "Claris is an experienced administrator with over a decade of experience across finance, agriculture, hospitality, and real estate sectors. She is the Co-Founder and Deputy Managing Director of Raedial Holdings Limited. She holds an MSc in Business Management from Robert Gordon University and is an alumna of the University of Benin. Claris is a proud member of the Chartered Management Institute (UK), Institute of Directors, and CIPM Nigeria.",
        img_alt: "Profile image for Claris Agenmonmen, NED",
        img_src: "/assets/Chris.png?text=CA", // Replace this URL with the actual image
    },
    {
        name: "Paul Frank Onwude",
        title: "Non-Executive Director",
        bio: "Paul is a technology and business development professional with over 15 years in enterprise solutions and digital transformation. He holds qualifications in Artificial Intelligence and Machine Learning. His previous roles include Head of Business Development and Solutions Architect at Castlenet Consulting and a Cisco Voice Engineer in Singapore.",
        img_alt: "Profile image for Paul Frank Onwude, NED",
        img_src: "/assets/Paul.jpg?text=PO", // Replace this URL with the actual image
    },
    {
        name: "Gold Leonard Isiona (Dr.)",
        title: "Non-Executive Director",
        bio: "Dr. Isiona is the Executive Director/CEO of the Nigerian Institute for Oil Palm Research (NIFOR). He is a distinguished scientist specializing in oil palm genetics, biotechnology, and agronomic research, known for his notable patents and publications.",
        img_alt: "Profile image for Dr. Gold Leonard Isiona, NED",
        img_src: "/assets/Gold.png?text=GLI", // Replace this URL with the actual image
    },
    {
        name: "Kenechi Chimmuanya Ezezika",
        title: "Non-Executive Director",
        bio: "Kenechi leads OAKE Legal’s Mergers & Acquisitions, Capital Markets, Corporate & Investments, and Governance & Compliance practices. He has successfully led numerous high-profile M&A and capital market transactions for local, international, and multinational clients, bringing extensive legal expertise to the board.",
        img_alt: "Profile image for Kenechi Chimmuanya Ezezika, NED",
        img_src: "/assets/Kelechi.png?text=KE", // Replace this URL with the actual image
    },
    {
        name: "Kehinde Muibi (Dr. MKH)",
        title: "Non-Executive Director",
        bio: "Dr. Kehinde Muibi is the CEO of MKH Group, a conglomerate with interests in real estate, construction, FMCG, and agriculture, boasting over 10 years of experience. He holds an honorary Doctor of Science, an MSc in Project Management, and executive certifications from both London and Lagos Business Schools.",
        img_alt: "Profile image for Dr. Kehinde Muibi, NED",
        img_src: "/assets/Kehinde Muibi.png?text=KM", // Replace this URL with the actual image
    },
];

// Combine all members for consistent indexing in the JavaScript modal logic
const allTeamMembers = [...executives, ...neds];
const teamJson = JSON.stringify(allTeamMembers);
---
<Layout title="Leadership | Verdant Acres Limited — Agribusiness Experts">

    <!-- FONT AWESOME IS NO LONGER NEEDED, BUT KEEPING THE LINK FOR GLOBAL STYLES -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLMDJzLwV8pA0/DkU8T9z+K+k7pQkU2qJ1iT9G8wA5p8p+R/9yC7b+7Gk5c8eA==" crossorigin="anonymous" referrerpolicy="no-referrer" slot="head-end" />

    <!-- 
        Define custom brand colors using CSS variables to match the existing theme.
    -->
    <style>
        :root {
            --color-primary: #DAA520; /* Gold */
            --color-corporate: #1B5E20; /* Deep Green */
            --color-surface: #FAFAFA; /* Light Grey */
            --color-ned: #4CAF50; /* Medium Green for NEDs */
        }
        /* Custom Tailwind/CSS mappings for variables */
        .text-primary { color: var(--color-primary); }
        .bg-primary { background-color: var(--color-primary); }
        .border-primary { border-color: var(--color-primary); }
        .text-corporate { color: var(--color-corporate); }
        .bg-corporate { background-color: var(--color-corporate); }
        .border-corporate { border-color: var(--color-corporate); }
        .bg-surface { background-color: var(--color-surface); }
        .border-ned { border-color: var(--color-ned); }
        
        /* Font mappings based on your Layout.astro imports */
        .font-heading { font-family: 'Satoshi', sans-serif; }
        
        /* Utility for transition/hover effect on clickable elements */
        .team-card {
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            min-height: 200px; /* Ensure cards are uniform height */
        }
        .team-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px -5px rgba(27, 94, 32, 0.2), 0 4px 6px -2px rgba(27, 94, 32, 0.1);
        }
        
        /* Custom style for the profile image in the modal, making it slightly larger */
        #modalImage {
            min-width: 8rem; /* 128px */
            min-height: 8rem; /* 128px */
        }
    </style>

    <!-- Header Component slotted into the "header" slot of Layout.astro -->
    <Header slot="header" />

    <!-- HERO SECTION - Leadership Overview -->
    <section class="relative h-96 flex items-center bg-corporate">
        <div class="absolute inset-0">
            <img
                src="/assets/Leadership.jpg"
                alt="Professional team meeting in a modern office"
                class="w-full h-full object-cover opacity-50"
                onerror="this.src='https://placehold.co/1920x400/1B5E20/111827?text=Our+Leadership'"
            />
            <div class="absolute inset-0 bg-corporate/50 backdrop-brightness-50"></div>
        </div>

        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-white">
            <p class="text-sm uppercase tracking-widest font-bold text-primary mb-2">Our Visionaries</p>
            <h1 class="text-4xl md:text-6xl font-black font-heading leading-tight">
                Verdant Acres Executive Leadership
            </h1>
            <p class="text-lg mt-4 max-w-3xl opacity-90">
                The management team is built on a foundation of diverse experience spanning energy, agriculture, finance, and global trade.
            </p>
        </div>
    </section>

    <!-- EXECUTIVE MANAGEMENT (Chairman & MD) -->
    <section class="py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-lg uppercase tracking-widest font-bold text-corporate mb-2">Executive Team</p>
            <h2 class="text-3xl md:text-4xl font-black font-heading text-corporate mb-16">
                Driving Day-to-Day Operations and Strategy
            </h2>
            
            <!-- Grid for Executives (2 members) -->
            <div class="grid sm:grid-cols-2 lg:grid-cols-2 gap-12 max-w-4xl mx-auto">
                
                {executives.map((member, index) => (
                    <div 
                        class="team-card bg-surface rounded-2xl shadow-xl p-8 border-b-8 border-corporate text-center flex flex-col justify-center items-center hover:border-primary"
                        onclick={`openModal(${index})`} // Index 0 and 1
                        role="button"
                        tabindex="0"
                        aria-label={`View profile for ${member.name}`}
                    >
                        <!-- Image placeholder for user upload -->
                        <img 
                            src={member.img_src} 
                            alt={member.img_alt} 
                            class="w-24 h-24 object-cover rounded-full border-4 border-corporate mx-auto mb-4 shadow-md"
                        />
                        <h3 class="text-2xl font-black font-heading text-corporate mb-1">{member.name}</h3>
                        <p class="text-xl font-semibold text-primary">{member.title}</p>
                        <p class="text-sm text-gray-500 mt-4">Click to View Full Bio</p>
                    </div>
                ))}
            </div>
        </div>
    </section>
    
    <!-- NON-EXECUTIVE DIRECTORS (NEDs) -->
    <section class="py-24 bg-surface">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-lg uppercase tracking-widest font-bold text-corporate mb-2">Non-Executive Directors</p>
            <h2 class="text-3xl md:text-4xl font-black font-heading text-corporate mb-16">
                Governance, Compliance, and Global Advisory
            </h2>
            
            <!-- Grid for NEDs (6 members) -->
            <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
                
                {neds.map((member, index) => (
                    <div 
                        class="team-card bg-white rounded-xl shadow-lg p-6 border-b-4 border-ned text-center flex flex-col justify-center items-center"
                        onclick={`openModal(${executives.length + index})`} // Index 2 onwards
                        role="button"
                        tabindex="0"
                        aria-label={`View profile for ${member.name}`}
                    >
                        <!-- Image placeholder for user upload -->
                        <img 
                            src={member.img_src} 
                            alt={member.img_alt} 
                            class="w-20 h-20 object-cover rounded-full border-4 border-ned mx-auto mb-4 shadow-md"
                        />
                        <h3 class="text-xl font-black font-heading text-corporate mb-1">{member.name}</h3>
                        <p class="text-md font-semibold text-ned">{member.title}</p>
                        <p class="text-sm text-gray-500 mt-2">Click to View Profile</p>
                    </div>
                ))}
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <Footer slot="footer" />

    <!-- MODAL STRUCTURE (Hidden by default) -->
    <div id="profileModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden p-4" onclick="closeModal(event)">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-4xl overflow-hidden transform transition-all duration-300" onclick="event.stopPropagation()">
            <!-- Modal Header -->
            <div class="bg-corporate text-white p-6 flex justify-between items-center">
                <h3 id="modalName" class="text-2xl font-black font-heading"></h3>
                <button onclick="closeModal()" class="text-white hover:text-primary transition-colors text-3xl" aria-label="Close Profile">
                    &times;
                </button>
            </div>
            
            <!-- Modal Body -->
            <div class="p-8">
                <div class="flex flex-col sm:flex-row gap-6 items-center sm:items-start mb-6">
                    <!-- Modal Image -->
                    <img id="modalImage" class="w-32 h-32 object-cover rounded-full border-4 border-primary shadow-lg flex-shrink-0" src="" alt="" />
                    <div class="text-center sm:text-left flex-1">
                        <p id="modalTitle" class="text-xl font-semibold text-primary mb-3"></p>
                        <!-- Full Bio is displayed here as a standard paragraph -->
                        <p id="modalBio" class="text-gray-700 text-base text-left"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script define:vars={{ teamJson }}>
        // Parse the team data from the Astro context
        const teamMembers = JSON.parse(teamJson);
        const modal = document.getElementById('profileModal');
        
        const modalElements = {
            name: document.getElementById('modalName'),
            title: document.getElementById('modalTitle'),
            image: document.getElementById('modalImage'),
            bio: document.getElementById('modalBio'),
        };

        /**
         * Opens the modal and populates it with the selected team member's details.
         * @param {number} index The index of the team member in the combined array (executives + neds).
         */
        function openModal(index) {
            const member = teamMembers[index];

            if (!member) return;

            // Populate text content
            modalElements.name.textContent = member.name;
            modalElements.title.textContent = member.title;
            modalElements.image.src = member.img_src;
            modalElements.image.alt = member.img_alt;
            
            // Set the bio content directly. The data has been cleaned to flow as a paragraph.
            modalElements.bio.textContent = member.bio.trim();

            // Show the modal and prevent background scrolling
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        /**
         * Closes the modal.
         * @param {Event} e Optional event object to check if click was on the backdrop.
         */
        function closeModal(e) {
            // Only close if no event or if the target is the modal backdrop itself
            if (!e || e.target === modal) {
                modal.classList.add('hidden');
                document.body.style.overflow = ''; // Re-enable background scrolling
            }
        }
        
        // Expose functions globally for HTML event handlers
        window.openModal = openModal;
        window.closeModal = closeModal;
    </script>
</Layout>